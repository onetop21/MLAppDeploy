# MLAppDeploy Project v0.3
apiVersion: v1                     # Describe api version. (*v1)
maintainer: root                   # Describe maintainer. (*env.USER)
name: example                      # Describe project name.
version: 0.0.1                     # Describe verison. (*1.0.0)
workdir: .
# ingress:                           # [OPTIONAL] Describe ingress to expose.
#     test-ingress:
#         rewritePath: true
#         target: server:1234
workspace:
    kind: Workspace                # Describe kind of workspace. (*Workspace, Dockerfile)
    base: python:latest            # Describe base docker image tag.
    preps:
      - pip: requirements.txt      # [OPTIONAL] Describe prepare options for run.
app:
    server:
        kind: App                  # [OPTIONAL] Describe kind of app. (*App, Job, Service)
        command: python server.py  # [OPTIONAL] Describe command to need overwrite.
        ports: [5555]              # [OPTIONAL] Describe expose ports to other apps.
    client:
        kind: App
        command: python client.py
        constraints:               # [OPTIONAL] Describe target node to run app.
            hostname: docker-desktop
        ports: [5555]
#        env:
#            test: test-env
#        scale: 1                   # [OPTIONAL] Describe number of replicas or parallelism. (*1)
#        quota:                     # [OPTIONAL] Describe required system resource q
#            cpu: 1
#            gpu: 0
#        restartPolicy: never       # [OPTIONAL] Describe restart policy. (*never, on-failure, always)


